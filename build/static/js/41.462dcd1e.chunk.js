(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{113:function(e,t,a){"use strict";var n=a(15),s=a(17),o=a(3),i=a.n(o),c=a(2),l=a.n(c),r=a(76),m=a.n(r),p=a(77),u={tag:p.m,className:l.a.string,cssModule:l.a.object},g=function(e){var t=e.className,a=e.cssModule,o=e.tag,c=Object(s.a)(e,["className","cssModule","tag"]),l=Object(p.i)(m()(t,"card-footer"),a);return i.a.createElement(o,Object(n.a)({},c,{className:l}))};g.propTypes=u,g.defaultProps={tag:"div"},t.a=g},650:function(e,t,a){"use strict";a.r(t);var n=a(30),s=a(31),o=a(33),i=a(32),c=a(34),l=a(21),r=a(3),m=a.n(r),p=a(110),u=a(94),g=a(89),d=a(99),h=a(102),b=a(112),E=a(243),S=a(244),f=a(153),j=a(103),v=a(98),U=a(113),k=a(120),O=a(292),x=function(e){function t(e){var a;return Object(n.a)(this,t),a=Object(o.a)(this,Object(i.a)(t).call(this,e)),console.log(a.props.isLoading),a.state={isLoading:a.props.isLoading},a.logout=a.logout.bind(Object(l.a)(Object(l.a)(a))),a.onSetState=a.onSetState.bind(Object(l.a)(Object(l.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"onSetState",value:function(){}},{key:"logout",value:function(){var e=this;this.onSetState();var t=Object(k.a)("the_main_app");if(t&&t.token){var a=t.token;fetch("/api/account/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({token:"",isLoading:!1}):e.setState({isLoading:!1})})}else this.setState({isLoading:!1});return m.a.createElement(O.default,null)}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("p",null,"Account"),m.a.createElement("button",{onClick:this.logout},"Logout"))}}]),t}(r.Component),y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={isLoading:!0,token:"",signUpError:"",signInError:"",signInEmail:"",signInPassword:"",signUpName:"",signUpEmail:"",signUpPassword:""},a.onTextboxChangeSignUpEmail=a.onTextboxChangeSignUpEmail.bind(Object(l.a)(Object(l.a)(a))),a.onTextboxChangeSignUpPassword=a.onTextboxChangeSignUpPassword.bind(Object(l.a)(Object(l.a)(a))),a.onTextboxChangeSignUpName=a.onTextboxChangeSignUpName.bind(Object(l.a)(Object(l.a)(a))),a.onSignUp=a.onSignUp.bind(Object(l.a)(Object(l.a)(a))),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Object(k.a)("the_main_app");if(t&&t.token){var a=t.token;fetch("/api/account/verify?token="+a).then(function(e){return e.json()}).then(function(t){t.success?e.setState({token:a,isLoading:!1}):e.setState({isLoading:!1})})}else this.setState({isLoading:!1})}},{key:"onTextboxChangeSignUpEmail",value:function(e){this.setState({signUpEmail:e.target.value})}},{key:"onTextboxChangeSignUpPassword",value:function(e){this.setState({signUpPassword:e.target.value})}},{key:"onTextboxChangeSignUpName",value:function(e){this.setState({signUpName:e.target.value})}},{key:"onSignUp",value:function(){var e=this,t=this.state,a=t.signUpEmail,n=t.signUpPassword,s=t.signUpName;this.setState({isLoading:!0}),fetch("/api/account/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:n,name:s})}).then(function(e){return e.json()}).then(function(t){console.log("json",t),t.success?e.setState({signUpError:t.message,isLoading:!1,signUpEmail:"",signUpPassword:"",signUpName:""}):e.setState({signUpError:t.message,isLoading:!1})})}},{key:"logout",value:function(){var e=this;this.setState({isLoading:!0});var t=Object(k.a)("the_main_app");if(t&&t.token){var a=t.token;fetch("/api/account/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({token:"",isLoading:!1}):e.setState({isLoading:!1})})}else this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.token,n=(e.signInError,e.signInEmail,e.signInPassword,e.signUpEmail),s=e.signUpPassword,o=e.signUpName,i=e.signUpError;return t?m.a.createElement("div",null,m.a.createElement("p",null,"Loading...")):a?m.a.createElement(x,{isLoading:this.state.isLoading}):m.a.createElement("div",{className:"app flex-row align-items-center"},i?m.a.createElement("p",null,i):null,m.a.createElement(p.a,null,m.a.createElement(u.a,{className:"justify-content-center"},m.a.createElement(g.a,{md:"9",lg:"7",xl:"6"},m.a.createElement(d.a,{className:"mx-4"},m.a.createElement(h.a,{className:"p-4"},m.a.createElement(b.a,null,m.a.createElement("h1",null,"Register"),m.a.createElement("p",{className:"text-muted"},"Create your account"),m.a.createElement(E.a,{className:"mb-3"},m.a.createElement(S.a,{addonType:"prepend"},m.a.createElement(f.a,null,m.a.createElement("i",{className:"icon-user"}))),m.a.createElement(j.a,{type:"text",placeholder:"Username",autoComplete:"username",value:o,onChange:this.onTextboxChangeSignUpName})),m.a.createElement(E.a,{className:"mb-3"},m.a.createElement(S.a,{addonType:"prepend"},m.a.createElement(f.a,null,"@")),m.a.createElement(j.a,{type:"text",placeholder:"Email",autoComplete:"email",value:n,onChange:this.onTextboxChangeSignUpEmail})),m.a.createElement(E.a,{className:"mb-3"},m.a.createElement(S.a,{addonType:"prepend"},m.a.createElement(f.a,null,m.a.createElement("i",{className:"icon-lock"}))),m.a.createElement(j.a,{type:"password",placeholder:"Password",autoComplete:"new-password",value:s,onChange:this.onTextboxChangeSignUpPassword})),m.a.createElement(E.a,{className:"mb-4"},m.a.createElement(S.a,{addonType:"prepend"},m.a.createElement(f.a,null,m.a.createElement("i",{className:"icon-lock"}))),m.a.createElement(j.a,{type:"password",placeholder:"Repeat password",autoComplete:"new-password"})),m.a.createElement(v.a,{color:"success",block:!0,onClick:this.onSignUp},"Create Account"))),m.a.createElement(U.a,{className:"p-4"},m.a.createElement(u.a,null,m.a.createElement(g.a,{xs:"12",sm:"6"},m.a.createElement(v.a,{className:"btn-facebook mb-1",block:!0},m.a.createElement("span",null,"facebook"))),m.a.createElement(g.a,{xs:"12",sm:"6"},m.a.createElement(v.a,{className:"btn-twitter mb-1",block:!0},m.a.createElement("span",null,"twitter"))))))))))}}]),t}(r.Component);t.default=y}}]);
//# sourceMappingURL=41.462dcd1e.chunk.js.map